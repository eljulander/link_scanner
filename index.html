<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <link rel="stylesheet" type="text/css" href="_css/styles.css"> </head>

<body>
    <header>
        <h1>Welcome to the Drag N Drop</h1> </header>
    <main>
        <div id="dropper" class="">
            <p>Drop your Stuff Here</p>
        </div>
    </main>
    <script>
        if (typeof module === 'object') {
            window.module = module;
            module = undefined;
        }
    </script>
    <script src="_js/jquery-3.1.1.min.js"></script>
    <script>
        if (window.module) module = window.module;
    </script>
    <script src="_js/drop.js"></script>
    <script>
        var shouldAnimate = false;

        function animateRed() {
            $(".flashy").css({
                "background-color": "red"
            });
            if (shouldAnimate) window.setTimeout(animateYellow, 250);
        }

        function animateYellow() {
            $(".flashy").css({
                "background-color": "yellow"
            });
            if (shouldAnimate) window.setTimeout(animateRed, 250);
        }
        $("#dropper").on("dragover", function () {
            if (!shouldAnimate) {
                $(this).addClass("flashy");
                shouldAnimate = true;
                animateRed();
            }
        });
        $("#dropper").on("mouseout drop dragleave", function () {
            if (shouldAnimate) {
                shouldAnimate = false;
                $(this).removeClass("flashy");
                var me = this;
                window.setTimeout(function () {
                    $(me).css({
                        "background-color": "antiquewhite"
                    });
                }, 250);
            }
        });
    </script>
</body>

</html>
